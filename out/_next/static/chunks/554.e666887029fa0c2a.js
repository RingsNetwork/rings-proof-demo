!function(){var e,r,t,n,o,s,a={554:function(e,r,t){"use strict";let n,o,s;var a=t(5690),i=t.n(a),c=t(5285);console.log("fucking init");let f=async(e,r,t,n)=>{console.log("service_message_handler"),console.log(n)},l=async(e,r,t,n)=>{console.log("plain_text_message_handler"),console.log(n)},u=async(e,r,t,n)=>{console.log("extension_message_handler"),console.log(n)};async function p(e){if("init"===e.type)return await i()(),{type:"init"};if("config"===e.type)return o=(0,c.L)(e.pk),e.snark,{type:"config",address:o.address};if("new"===e.type){o=(0,c.L)(e.pk),s=async e=>{let r=await o.signMessage({message:e});return new Uint8Array(function(e){e=(e=e.toString(16)).replace(/^0x/i,"");for(var r=[],t=0;t<e.length;t+=2)r.push(parseInt(e.slice(t,t+2),16));return r}(r))};let r=new a.SNARKBehaviour,t=new a.BackendBehaviour(f,l,u,r.clone());return console.log(n=await new a.Provider("stun://stun.l.google.com:19302",BigInt(1),o.address,"eip191",s,t)),await n.listen(),{type:"new",address:o.address}}if("createOfferRequest"===e.type){console.log(n),console.log(o.address);let r=await n.request("createOffer",e.createOfferRequest);return{type:"createOfferResponse",address:o.address,createOfferResponse:r}}if("answerOfferRequest"===e.type){let r=await n.request("answerOffer",e.answerOfferRequest);return{type:"answerOfferResponse",address:o.address,answerOfferResponse:r}}if("acceptAnswerRequest"===e.type){let r=await n.request("acceptAnswer",e.acceptAnswerRequest);return{type:"acceptAnswerResponse",address:o.address,acceptAnswerResponse:r}}if("genProofRequest"===e.type){let t=e.genProofCircuits;var r=[];for(let e=0;e<t.length;e++){let n=t[e];console.log("from json START"),r.push(a.Circuit.from_json(n)),console.log("from json END")}let n=a.SNARKBehaviour.gen_proof_task_ref(r);console.log("gen task DONE"),console.log("gen proof"),console.log(n);let s=a.SNARKBehaviour.handle_snark_proof_task_ref(n.clone());return console.log("gen proof DONE"),console.log("verify"),console.log("verify DONE",a.SNARKBehaviour.handle_snark_verify_task_ref(s.clone(),n.clone())),{type:"genProofResponse",address:o.address,proof:s}}}self.addEventListener("message",async e=>{let r=e.data,t=await p(r);self.postMessage(t)})}},i={};function c(e){var r=i[e];if(void 0!==r)return r.exports;var t=i[e]={id:e,loaded:!1,exports:{}},n=!0;try{a[e].call(t.exports,t,t.exports,c),n=!1}finally{n&&delete i[e]}return t.loaded=!0,t.exports}c.m=a,c.x=function(){var e=c.O(void 0,[210,246],function(){return c(554)});return c.O(e)},e=[],c.O=function(r,t,n,o){if(t){o=o||0;for(var s=e.length;s>0&&e[s-1][2]>o;s--)e[s]=e[s-1];e[s]=[t,n,o];return}for(var a=1/0,s=0;s<e.length;s++){for(var t=e[s][0],n=e[s][1],o=e[s][2],i=!0,f=0;f<t.length;f++)a>=o&&Object.keys(c.O).every(function(e){return c.O[e](t[f])})?t.splice(f--,1):(i=!1,o<a&&(a=o));if(i){e.splice(s--,1);var l=n();void 0!==l&&(r=l)}}return r},c.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(r,{a:r}),r},c.d=function(e,r){for(var t in r)c.o(r,t)&&!c.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},c.f={},c.e=function(e){return Promise.all(Object.keys(c.f).reduce(function(r,t){return c.f[t](e,r),r},[]))},c.u=function(e){return"static/chunks/"+(210===e?"893c97a1":e)+"-"+({210:"cc4da96157b8384f",246:"a34e59ec6c5fb331"})[e]+".js"},c.miniCssF=function(e){},c.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}}(),c.hmd=function(e){return(e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e},c.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.U=function(e){var r=new URL(e,"x:/"),t={};for(var n in r)t[n]=r[n];for(var n in t.href=e,t.pathname=e.replace(/[?#].*/,""),t.origin=t.protocol="",t.toString=t.toJSON=function(){return e},t)Object.defineProperty(this,n,{enumerable:!0,configurable:!0,value:t[n]})},c.U.prototype=URL.prototype,c.tt=function(){return void 0===r&&(r={createScriptURL:function(e){return e}},"undefined"!=typeof trustedTypes&&trustedTypes.createPolicy&&(r=trustedTypes.createPolicy("nextjs#bundler",r))),r},c.tu=function(e){return c.tt().createScriptURL(e)},c.p="/_next/",t={554:1},c.f.i=function(e,r){t[e]||importScripts(c.tu(c.p+c.u(e)))},o=(n=self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push.bind(n),n.push=function(e){var r=e[0],n=e[1],s=e[2];for(var a in n)c.o(n,a)&&(c.m[a]=n[a]);for(s&&s(c);r.length;)t[r.pop()]=1;o(e)},s=c.x,c.x=function(){return Promise.all([c.e(210),c.e(246)]).then(s)},_N_E=c.x()}();